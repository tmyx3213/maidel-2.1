# Maidel2.1 ユースケース仕様（MVP版）

## 1. 目的
Maidel2.1 のMVPにおいて、ユーザーが自然言語で操作できる  
**Google Calendar 連携シナリオ** を明確化する。

---

## 2. 前提条件
- MCPクライアントが正しく `initialize` / `tools/list` / `tools/call` を実行可能であること  
- Google Calendar MCPサーバーが稼働し、認証済みトークンが利用可能な状態であること  
- タイムゾーンは日本時間 (JST, +09:00) を基準とする  

---

## 3. ユースケース一覧

### UC-1: 今日の予定を確認する
- **ユーザー入力**  
  「今日の予定を見せて」
- **Claudeの判断**  
  ツール `list-events` を選択
- **MCPクライアント呼び出し**  
  ```json
  {
    "name":"list-events",
    "arguments":{
      "calendarId":"primary",
      "timeMin":"<本日 00:00 JST>",
      "timeMax":"<翌日 00:00 JST>"
    }
  }
  ```
- **期待される応答**  
  「今日の予定は20時から『Maidel開発』があります」

---

### UC-2: 特定日の予定を確認する
- **ユーザー入力**  
  「来週の水曜日の予定を教えて」
- **Claudeの判断**  
  `list-events` を選択、対象日を timeMin/timeMax で指定
- **期待される応答**  
  「来週水曜日は13時から『打ち合わせ』があります」

---

### UC-3: 予定を作成する
- **ユーザー入力**  
  「今日20時〜22時に『Maidel開発』を入れて」
- **Claudeの判断**  
  ツール `create-event` を選択
- **MCPクライアント呼び出し例**
  ```json
  {
    "name":"create-event",
    "arguments":{
      "calendarId":"primary",
      "summary":"Maidel開発",
      "start":"2025-09-17T20:00:00+09:00",
      "end":"2025-09-17T22:00:00+09:00"
    }
  }
  ```
- **期待される応答**  
  「予定を追加しました：20時〜22時『Maidel開発』」

---

### UC-4: 短時間の予定を作成する
- **ユーザー入力**  
  「明日の午後3時から30分、買い物の予定を追加して」
- **Claudeの判断**  
  `create-event` を選択
- **期待される応答**  
  「予定を追加しました：明日15:00〜15:30『買い物』」

---

## 4. 成功条件
- Claudeが自然言語入力を正しくツール呼び出しに変換できること  
- MCPクライアントがエラーなくGoogle Calendar MCPサーバーとやりとりできること  
- 予定の参照/作成結果がユーザーに自然文で返されること  

---

## 5. エラーシナリオ
- **認証エラー**：OAuthが無効 → 「Google Calendarに接続できません」  
- **引数不足**：開始時刻やタイトルが曖昧 → Claudeが再質問する  
- **通信エラー**：サーバー未起動/タイムアウト → 「カレンダーサーバーが応答しません」  

---
